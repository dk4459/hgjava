<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<script>
   fetch('url')  //promise
   .then(function (result){
	   return result.json(); //json -> object.
   })
   .then(function (result){
	   //화면상에 요소생성
   })
   .then(function(result){
   
   })
   .catch(function (err){
	   
   })
   
   // Promise객체
   const p1 = new Promise(function(resolve, reject) { //resolve 해결되면 나오는 메서드, jeject 에러가 나오면 나오는 메서드
	   setTimeout(function(){
		resolve('OK');  //성공
	    //reject('NG');  //실패
	   },1000);  
   })
   
   
   const p2 = p1.then(function(result){
	   console.log('then: ',result);
	   return 'hello'; //Promise객체로 반환.
   })
   
   const p3 = p2.then(function(result){
	   console.log('then2: ',result);
	   //return 'world'; 아래처럼 반환값을 해줘도 된다.
	   return new Promise(function(resolve, reject){
		  let message = "message";
		   resolve(message);
		   //reject(message);
	   });
   })

   p3.then(function(result){
	   console.log('then3:', result);
   })
   .catch(function(err){
	   console.error('catch3: ',err);  //에러 마지막 부분에만 넣어도 
   })                                  //1번이나 2번이나 3번도 에러를 표시한다.
   
   
  </script>
</body>
</html>